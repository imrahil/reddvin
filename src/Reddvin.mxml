<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" applicationDPI="160"  
			   xmlns:s="library://ns.adobe.com/flex/spark" 
			   xmlns:reddvin="com.ania.apps.reddvin.*" creationComplete="init()" resize="resizeHandler(event);">
	
	<fx:Script>
		<![CDATA[
			import mx.events.ResizeEvent;
			import mx.logging.Log;
			import mx.logging.LogEventLevel;
			import mx.logging.targets.TraceTarget;
			
			private function init():void
			{
				trace(this.currentState);
				CONFIG::debugMode
				{
					var logTarget:TraceTarget = new TraceTarget();
					logTarget.level = LogEventLevel.ALL;
					logTarget.includeDate = true;
					logTarget.includeTime = true;
					logTarget.includeCategory = true;
					logTarget.includeLevel = true;
					Log.addTarget(logTarget);
				}
			}
			
			protected function resizeHandler(event:ResizeEvent):void 
			{
				currentState = aspectRatio;
			}
		]]>
	</fx:Script>
	
	<fx:Style source="/assets/styles/styles.css" />
	
	<fx:Declarations>
		<reddvin:ReddvinContext contextView="{this}" />
	</fx:Declarations>
	
	<s:states>
		<s:State name="portrait"/>
		<s:State name="landscape"/>
	</s:states>
	
	<s:SplitViewNavigator id="svn" width="100%" height="100%" autoHideFirstViewNavigator="true">
		<s:ViewNavigator width="250" height="100%" firstView="com.ania.apps.reddvin.view.MenuView" />
		<s:ViewNavigator width="100%" height="100%" firstView="com.ania.apps.reddvin.view.SectionView">
			<s:actionContent.portrait>
				<s:Button id="listButton" label="Menu" click="svn.showFirstViewNavigatorInPopUp(listButton)" />
			</s:actionContent.portrait>
		</s:ViewNavigator>
	</s:SplitViewNavigator>
</s:Application>
